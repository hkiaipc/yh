冶河用水管理需求/功能描述

1.      需水管理
1.1     一条需水信息由一个用水户定制
1.2     用水户的需水信息是自己的需水和其下级用水户的需水信息的汇总
1.3     一条需水信息包括起止时间, 数量, 用途
1.4     定制需水信息时应该在下级用水户提交完需水信息后, 以便统计总量
1.5     定制需水信息时, 显示下级用水户的需水汇总
1.6     统计
1.6.1   某个时间段内多个用水户需水统计图
1.6.2   单用户历史需水统计

2.      配水管理
2.1     配水是由上级单位向下级单位分配
2.2     数据包括: 下级单位, 配水时间段, 配水量
2.3     针对需水信息配水
2.4     配水量可以高于或低于需水量

3.      用水管理
3.1     最新数据(实时监控数据)
3.1.1   实时数据能够自动更新, 不需人为干预, 更新周期用户可以调整
3.1.2   实时数据的两种表现: 数据和图形
        如果实际数据超过测点的报警值, 则产生报警提示, 报警有声音和图形/文字提示
        产生报警的后续处理, 关闭/忽略/继续等

3.2     历史数据 
3.3     统计(统计表内容形式等参见 统计表.xls 文件)
3.3.1   单日统计
3.3.2   月(放水季)统计
3.3.3   年统计
        


4.      基础信息
4.1     放水期定义: 
        包括放水期的名称, 起始时间和截止时间, 定义的放水期会被所有的单位使用(管理局, 管理处, 用水户)

4.2     渠道定义
        包括渠道名称, 长度等基本信息
        渠道测点的关联: 一个渠道可以拥有多个测点, 一个测点只能属于一条渠道
        渠道和管理单位(用水户)的关联: 表现为那些单位管理那些渠道, 如管理局管理着引冶和引岗总干
        一条渠道只能归一个管理单位管理(用水户), 一个管理单位可以管理多条渠道

4.3     测点定义
        测点为一个量水测站的抽象, 并能及时提供水位和流量信息, 最初的原始数据都是通过测点上传到中心的,
        主要内容包括名称, 测点的设备类型, 安装位置, 水位等
        一个测点只能属于一条渠道, 一条渠道可以拥有多个测点
        测点能过定义报警数据的上下限范围

4.4     用水户定义
        管理局, 管理处, 管理所, 与实际用水单位都抽象为用水户, 不同类型的用水户通过用水户级别字段标识
        实际用水单位根据用水性质分为多种: 工业, 农业, 生态等
        用水户和渠道关联: 一个用水户可管理多条渠道, 一条渠道只能归一个用水户管理
        用水户能获取其上一级单位(用水户)信息
        一个用水户只能有一个上级管理单位
        一个用水户可以有多个下级单位
        一个用水户可以有多个进水测点和多个出水测点, 进水/出水测点可以不在该用水户管辖的渠道上
        用水户的用水量通过进水测点总量和出水测点总量得到
        水费单价关联到用水户的进水/出水测点上
        一个用户只能看到其下属的用户的用水信息, 不能看到平级的或上级单位的用水信息
